import matplotlib.pyplot as plt
import numpy
import pandas

#create a database with info regarding sales and calculate total amount per purchase

sales = pandas.read_csv(r'C:\Users\44784\Desktop\Skills Bootcamp\SalesDatabase\SalesPriceValue.csv')
sales['value'] = 0
sales['value'] = sales['price']*sales['quantity']

#count number of different items per purchase DB frome sales table and put them in ascending order for graphing
# and account for zero value transactions

items_no_zeros = sales[sales.value!=0]
items_counts = items_no_zeros.quantity.value_counts()       
asc_items = items_counts.sort_index()

#Create a slice of the 'quantity' column and graph number of items per purchase
#use .describe() to give some stats

Quantity = sales.quantity[sales.value!=0]
xrange = [1,2,3,4,5,6,7,8,9,10]
print(Quantity.describe())
print('\n')

#calculate the number of orders that were below and above average number of items per purchase

print(sum(asc_items[:5]),'Orders with less than average number of items',end='\n\n')
print(sum(asc_items[5:]),'Orders with more than average number of items',end='\n\n')

#Plot items per transaction, average of 5.6 indicated

plt.bar(xrange,asc_items)
plt.axvline(5.6,linestyle='--',color='k', label = '5.6 Average')
plt.ylim(0,39)
plt.ylabel('Number of Transactions')
plt.xlabel('Number of Items')
plt.xlim(0,11)
plt.title('Items per Transaction')
plt.legend()
plt.show()
